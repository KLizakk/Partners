<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Licznik zbić</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f4f4;
        }
        h1 {
            margin-bottom: 20px;
            color: #333;
        }
        .input-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
            width: 100%;
        }
        .input-container div {
            margin: 10px 0;
            text-align: center;
            width: 90%;
        }
        input, select {
            padding: 8px;
            margin-top: 5px;
            font-size: 16px;
            width: 100%;
            max-width: 200px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        .color-picker {
            width: 40px;
            height: 30px;
            border: none;
            cursor: pointer;
        }
        .player {
            background-color: #fff;
            margin: 10px;
            padding: 15px;
            text-align: center;
            width: 90%;
            max-width: 300px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .player h2 {
            font-size: 20px;
            margin: 10px 0;
        }
        button {
            margin: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            border: none;
            background-color: #007bff;
            color: #fff;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        @media (max-width: 600px) {
            body {
                font-size: 14px;
                padding: 10px;
            }
            .player {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <h1>Licznik zbić</h1>

    <!-- Wprowadzanie nazw i kolorów graczy -->
    <div class="input-container">
        <h3>Ustawienia graczy</h3>
        <div>
            <label for="player1Name">Gracz 1:</label>
            <input type="text" id="player1Name" placeholder="Wpisz nazwę">
            <select id="player1Color" class="color-picker">
                <option value="red" style="background-color: red;">Czerwony</option>
                <option value="blue" style="background-color: blue;">Niebieski</option>
                <option value="green" style="background-color: green;">Zielony</option>
                <option value="yellow" style="background-color: yellow;">Żółty</option>
            </select>
        </div>
        <div>
            <label for="player2Name">Gracz 2:</label>
            <input type="text" id="player2Name" placeholder="Wpisz nazwę">
            <select id="player2Color" class="color-picker">
                <option value="red" style="background-color: red;">Czerwony</option>
                <option value="blue" style="background-color: blue;">Niebieski</option>
                <option value="green" style="background-color: green;">Zielony</option>
                <option value="yellow" style="background-color: yellow;">Żółty</option>
            </select>
        </div>
        <div>
            <label for="player3Name">Gracz 3:</label>
            <input type="text" id="player3Name" placeholder="Wpisz nazwę">
            <select id="player3Color" class="color-picker">
                <option value="red" style="background-color: red;">Czerwony</option>
                <option value="blue" style="background-color: blue;">Niebieski</option>
                <option value="green" style="background-color: green;">Zielony</option>
                <option value="yellow" style="background-color: yellow;">Żółty</option>
            </select>
        </div>
        <div>
            <label for="player4Name">Gracz 4:</label>
            <input type="text" id="player4Name" placeholder="Wpisz nazwę">
            <select id="player4Color" class="color-picker">
                <option value="red" style="background-color: red;">Czerwony</option>
                <option value="blue" style="background-color: blue;">Niebieski</option>
                <option value="green" style="background-color: green;">Zielony</option>
                <option value="yellow" style="background-color: yellow;">Żółty</option>
            </select>
        </div>
    </div>

    <!-- Wyświetlanie wyników -->
    <div class="player" id="player1">
        <h2><span id="name1">Gracz 1</span>: <span id="score1">0</span></h2>
        <button onclick="increment('score1')">Zbij</button>
        <button onclick="decrement('score1')">Cofnij</button>
    </div>
    <div class="player" id="player2">
        <h2><span id="name2">Gracz 2</span>: <span id="score2">0</span></h2>
        <button onclick="increment('score2')">Zbij</button>
        <button onclick="decrement('score2')">Cofnij</button>
    </div>
    <div class="player" id="player3">
        <h2><span id="name3">Gracz 3</span>: <span id="score3">0</span></h2>
        <button onclick="increment('score3')">Zbij</button>
        <button onclick="decrement('score3')">Cofnij</button>
    </div>
    <div class="player" id="player4">
        <h2><span id="name4">Gracz 4</span>: <span id="score4">0</span></h2>
        <button onclick="increment('score4')">Zbij</button>
        <button onclick="decrement('score4')">Cofnij</button>
    </div>

    <script>
        function increment(id) {
            const scoreElement = document.getElementById(id);
            scoreElement.textContent = parseInt(scoreElement.textContent) + 1;
        }

        function decrement(id) {
            const scoreElement = document.getElementById(id);
            const currentScore = parseInt(scoreElement.textContent);
            if (currentScore > 0) {
                scoreElement.textContent = currentScore - 1;
            }
        }

        // Funkcja do ustawiania nazw i kolorów graczy
        function setPlayerSettings(playerNumber) {
            const name = document.getElementById(`player${playerNumber}Name`).value;
            const color = document.getElementById(`player${playerNumber}Color`).value;

            // Ustawienie nazwy gracza
            const nameElement = document.getElementById(`name${playerNumber}`);
            nameElement.textContent = name || `Gracz ${playerNumber}`;

            // Ustawienie koloru tła dla gracza
            const playerDiv = document.getElementById(`player${playerNumber}`);
            playerDiv.style.backgroundColor = color;

            // Zapisz dane gracza do localStorage
            localStorage.setItem(`player${playerNumber}Name`, name || `Gracz ${playerNumber}`);
            localStorage.setItem(`player${playerNumber}Color`, color);
        }

        // Funkcja do nasłuchiwania zmian w formularzu
        function setupEventListeners() {
            for (let i = 1; i <= 4; i++) {
                const nameInput = document.getElementById(`player${i}Name`);
                const colorSelect = document.getElementById(`player${i}Color`);

                // Nasłuchuj na zmiany w polach formularza
                nameInput.addEventListener('input', () => setPlayerSettings(i));
                colorSelect.addEventListener('change', () => setPlayerSettings(i));
            }
        }

        // Ustawienie wszystkich graczy po załadowaniu strony
        window.onload = () => {
            setupEventListeners();  // Nasłuchiwanie na zmiany w formularzu
            for (let i = 1; i <= 4; i++) {
                // Sprawdzenie i załadowanie zapisanych danych z localStorage
                const savedName = localStorage.getItem(`player${i}Name`);
                const savedColor = localStorage.getItem(`player${i}Color`);
                if (savedName) {
                    document.getElementById(`player${i}Name`).value = savedName;
                    document.getElementById(`player${i}`).querySelector('h2 #name' + i).textContent = savedName;
                }
                if (savedColor) {
                    document.getElementById(`player${i}Color`).value = savedColor;
                    document.getElementById(`player${i}`).style.backgroundColor = savedColor;
                }
            }
        };
    </script>
</body>
</html>
